{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{376:function(s,t,a){\"use strict\";a.r(t);var e=a(25),v=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"centos搭建socks5代理\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#centos搭建socks5代理\"}},[s._v(\"#\")]),s._v(\" CentOS搭建Socks5代理\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"安装ss5\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装ss5\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"安装SS5\")])]),s._v(\" \"),a(\"p\",[s._v(\"1.安装ss5所需依赖包\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    yum install gcc openldap-devel pam-devel openssl-devel\\n\")])])]),a(\"p\",[s._v(\"2.下载安装包并解压\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    wget http://jaist.dl.sourceforge.net/project/ss5/ss5/3.8.9-8/ss5-3.8.9-8.tar.gz\\n    tar -zxvf ss5-3.8.9-8.tar.gz\\n\")])])]),a(\"p\",[s._v(\"本地备份：\"),a(\"code\",[s._v(\"http://920.ai/softs/Linux/ss5/ss5-3.8.9-8.tar.gz\")])]),s._v(\" \"),a(\"p\",[s._v(\"3.配置并安装\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    cd ss5-3.8.9/ && ./configure\\n    make && make  install\\n\")])])]),a(\"p\",[s._v(\"4.修改\"),a(\"code\",[s._v(\"ss5.conf\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    vim /etc/opt/ss5/ss5.conf\\n\")])])]),a(\"p\",[s._v(\"将\"),a(\"code\",[s._v(\"/etc/opt/ss5/ss5.conf\")]),s._v(\"中的 \"),a(\"code\",[s._v(\"auth段\")]),s._v(\" 和 \"),a(\"code\",[s._v(\"permit段\")]),s._v(\" 改为：\")]),s._v(\" \"),a(\"p\",[s._v(\"auth段\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"#      SHost           SPort           Authentication\\n#\\nauth    0.0.0.0/0               -               u\\n\")])])]),a(\"p\",[s._v(\"permit段\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"#      Auth     SHost           SPort   DHost           DPort   Fixup   Group   Band    ExpDate\\n#\\npermit u       0.0.0.0/0       -       0.0.0.0/0       -       -       -       -       -\\n\")])])]),a(\"p\",[s._v(\"5.添加用户和密码\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    vim /etc/opt/ss5/ss5.passwd\\n\")])])]),a(\"p\",[s._v(\"编辑 \"),a(\"code\",[s._v(\"/etc/opt/ss5/ss5.passwd\")]),s._v(\" ，\\n一行一个账号，用户名和密码之间用空格间隔\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    user1 12345678\\n    user2 123456\\n\")])])]),a(\"p\",[s._v(\"6.更改端口\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    vim /etc/sysconfig/ss5\\n\")])])]),a(\"p\",[s._v(\"编辑\"),a(\"code\",[s._v(\"/etc/sysconfig/ss5\")]),s._v(\"，添加一行，-b后面的参数代表监听的ip地址和端口号,-u 后面的参数表示本地计算机以哪个账户连接\")]),s._v(\" \"),a(\"p\",[a(\"code\",[s._v(\"# Add startup option here\")]),s._v(\" \"),a(\"code\",[s._v('SS5_OPTS=\" -u root -b 0.0.0.0:2333\"')])]),s._v(\" \"),a(\"p\",[s._v(\"7.添加权限并开机自启\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    chmod +x /etc/init.d/ss5\\n    systemctl enable ss5\\n\")])])]),a(\"h2\",{attrs:{id:\"可能出现的问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#可能出现的问题\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"可能出现的问题\")])]),s._v(\" \"),a(\"p\",[s._v(\"1.使用命令s\"),a(\"code\",[s._v(\"systemctl status ss5 -l\")]),s._v(\" 出现以下错误，先创建 /var/run/ss5 目录后再启动 ss5\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    Can’t create pid file /var/run/ss5/ss5.pid\\n    Can’t unlink pid file /var/run/ss5/ss5.pid\\n\")])])]),a(\"p\",[s._v(\"由于每次重启后\"),a(\"code\",[s._v(\"/var/run/ss5/\")]),s._v(\"文件夹都会被删除，所以需要修改\"),a(\"code\",[s._v(\"/etc/init.d/ss5\")]),s._v(\"，在\"),a(\"code\",[s._v(\"start\")]),s._v(\"段加上一句 \"),a(\"code\",[s._v(\"mkdir /var/run/ss5/\")]),s._v(\",将\"),a(\"code\",[s._v(\"stop\")]),s._v(\"段的\"),a(\"code\",[s._v(\"rm -f /var/run/ss5/ss5.pid\")]),s._v(\"改为\"),a(\"code\",[s._v(\"rm -rf /var/run/ss5/\")])]),s._v(\" \"),a(\"p\",[s._v(\"2.如果仍然无法连接\")]),s._v(\" \"),a(\"p\",[s._v(\"检查防火墙设置\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    systemctl status iptables\\n\")])])]),a(\"p\",[s._v(\"如果防火墙处于开启状态，放行端口，例如2333，编辑\"),a(\"code\",[s._v(\"/etc/sysconfig/iptables\")]),s._v(\"，加上一句\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    vim /etc/sysconfig/iptables\\n    -A INPUT -p tcp -m state --state NEW -m tcp --dport 2333 -j ACCEPT\\n\")])])]),a(\"p\",[s._v(\"重启防火墙\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[s._v(\"    service iptables restart\\n\")])])]),a(\"p\",[s._v(\"注意：\"),a(\"code\",[s._v(\"仅支持CentOS，Debian下编译会报错\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"参考资料\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考资料\"}},[s._v(\"#\")]),s._v(\" 参考资料\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"安装 SS5 SOCKS5 代理服务器，多进程/多IP地址出口/多端口：\"),a(\"a\",{attrs:{href:\"http://www.huangzhong.ca/zh/ss5-multiple-instances-ips-centos/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"http://www.huangzhong.ca/zh/ss5-multiple-instances-ips-centos/\"),a(\"OutboundLink\")],1),s._v('{target=\"_blank\"}')])])])}),[],!1,null,null,null);t.default=v.exports}}]);","extractedComments":[]}