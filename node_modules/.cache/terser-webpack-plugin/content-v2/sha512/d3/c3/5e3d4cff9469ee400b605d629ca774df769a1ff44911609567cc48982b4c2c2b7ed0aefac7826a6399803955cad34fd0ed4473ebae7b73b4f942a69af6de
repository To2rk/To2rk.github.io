{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{421:function(s,a,r){\"use strict\";r.r(a);var t=r(25),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,r=s._self._c||a;return r(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[r(\"h1\",{attrs:{id:\"frp实现树莓派3b-外网ip访问\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#frp实现树莓派3b-外网ip访问\"}},[s._v(\"#\")]),s._v(\" frp实现树莓派3b+外网IP访问\")]),s._v(\" \"),r(\"h2\",{attrs:{id:\"_0x00-frp-简介\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x00-frp-简介\"}},[s._v(\"#\")]),s._v(\" 0x00 frp 简介\")]),s._v(\" \"),r(\"ul\",[r(\"li\",[s._v(\"frp 是一个可用于内网穿透的高性能的反向代理应用，支持 tcp, udp, http, https 协议。\")]),s._v(\" \"),r(\"li\",[s._v(\"Github地址：\"),r(\"a\",{attrs:{href:\"https://github.com/fatedier/frp/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/fatedier/frp/\"),r(\"OutboundLink\")],1),s._v('{target=\"_blank\"}')]),s._v(\" \"),r(\"li\",[s._v(\"frp下载地址：\"),r(\"a\",{attrs:{href:\"https://github.com/fatedier/frp/releases\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/fatedier/frp/releases\"),r(\"OutboundLink\")],1),s._v('{target=\"_blank\"}')])]),s._v(\" \"),r(\"h2\",{attrs:{id:\"_0x01-最终目的\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x01-最终目的\"}},[s._v(\"#\")]),s._v(\" 0x01 最终目的\")]),s._v(\" \"),r(\"ul\",[r(\"li\",[s._v(\"配置环境：\")])]),s._v(\" \"),r(\"p\",[s._v(\"树莓派系统：Kali\"),r(\"br\"),s._v(\"\\n云主机系统：CentOS  7.3 64位\")]),s._v(\" \"),r(\"ul\",[r(\"li\",[s._v(\"实现效果：\")])]),s._v(\" \"),r(\"p\",[s._v(\"将树莓派SSH端口映射到公网IP的920端口，连接IP的920端口即可实现连接本地树莓派22端口。\"),r(\"br\"),s._v(\"\\n连接命令：\"),r(\"code\",[s._v(\"ssh -oPort=920 root@x.x.x.x\")])]),s._v(\" \"),r(\"h3\",{attrs:{id:\"_0x02-安装frps\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-安装frps\"}},[s._v(\"#\")]),s._v(\" 0x02 安装frps\")]),s._v(\" \"),r(\"ol\",[r(\"li\",[s._v(\"根据服务器选择相应版本，一般都为  \"),r(\"code\",[s._v(\"linux_amd64\")])]),s._v(\" \"),r(\"li\",[s._v(\"将下载后的文件解压后将  \"),r(\"code\",[s._v(\"frps\")]),s._v(\" 和 \"),r(\"code\",[s._v(\"frps.ini\")]),s._v(\" 复制到任意文件夹中\")]),s._v(\" \"),r(\"li\",[s._v(\"例如我的放到了  \"),r(\"code\",[s._v(\"/opt/frps/\")]),s._v(\"  目录下\")]),s._v(\" \"),r(\"li\",[s._v(\"配置 \"),r(\"code\",[s._v(\"frps.ini\")]),s._v(\" （关键），我的配置如下\")])]),s._v(\" \"),r(\"div\",{staticClass:\"language- line-numbers-mode\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[s._v(\"    [common]\\n    bind_addr = 0.0.0.0\\n    bind_port = 7001\\n    auth_token = dg3480tjeker43y55eghbodgyieraghdhgfig\\n    \\n    [ssh]\\n    bind_addr = 0.0.0.0\\n    listen_port = 920\\n\")])]),s._v(\" \"),r(\"div\",{staticClass:\"line-numbers-wrapper\"},[r(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),r(\"br\")])]),r(\"ol\",{attrs:{start:\"5\"}},[r(\"li\",[s._v(\"启动 \"),r(\"code\",[s._v(\"frps\")]),s._v(\" 命令：\"),r(\"code\",[s._v(\"./frps -c ./frps.ini\")])])]),s._v(\" \"),r(\"h2\",{attrs:{id:\"_0x03-安装frpc\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x03-安装frpc\"}},[s._v(\"#\")]),s._v(\" 0x03 安装frpc\")]),s._v(\" \"),r(\"ol\",[r(\"li\",[s._v(\"树莓派选择 \"),r(\"code\",[s._v(\"linux_arm64\")]),s._v(\" 版本\")]),s._v(\" \"),r(\"li\",[s._v(\"将下载后的文件解压后将  \"),r(\"code\",[s._v(\"frpc\")]),s._v(\" 和 \"),r(\"code\",[s._v(\"frpc.ini\")]),s._v(\" 复制到任意文件夹中\")]),s._v(\" \"),r(\"li\",[s._v(\"例如我的放到了 \"),r(\"code\",[s._v(\"/opt/frpc/\")]),s._v(\"  目录下\")]),s._v(\" \"),r(\"li\",[s._v(\"配置 \"),r(\"code\",[s._v(\"frpc.ini\")]),s._v(\" （关键），我的配置如下\")])]),s._v(\" \"),r(\"div\",{staticClass:\"language- line-numbers-mode\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[s._v(\"    [common]\\n    server_addr = x.x.x.x\\n    server_port = 7001\\n    auth_token = dg3480tjeker43y55eghbodgyieraghdhgfig\\n    log_file = ./frpc.log\\n    log_level = info\\n    \\n    [ssh]\\n    type = tcp\\n    local_ip = 0.0.0.0\\n    local_port = 22\\n    remote_port = 920\\n    #920为映射到公网IP的端口\\n\")])]),s._v(\" \"),r(\"div\",{staticClass:\"line-numbers-wrapper\"},[r(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),r(\"br\")])]),r(\"ol\",{attrs:{start:\"5\"}},[r(\"li\",[s._v(\"启动 frpc 命令 ： \"),r(\"code\",[s._v(\"./frpc -c ./frpc.ini\")])])]),s._v(\" \"),r(\"h2\",{attrs:{id:\"_0x04-出现的问题\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x04-出现的问题\"}},[s._v(\"#\")]),s._v(\" 0x04 出现的问题\")]),s._v(\" \"),r(\"ul\",[r(\"li\",[s._v(\"没有权限，执行命令\")])]),s._v(\" \"),r(\"div\",{staticClass:\"language- line-numbers-mode\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[s._v(\"        chmod +x frps\\n    或\\n        chmod +x frpc\\n\")])]),s._v(\" \"),r(\"div\",{staticClass:\"line-numbers-wrapper\"},[r(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),r(\"br\")])]),r(\"ul\",[r(\"li\",[s._v(\"放行端口\")])]),s._v(\" \"),r(\"p\",[s._v(\"由于阿里云服务器的安全组默认没用开放7001和920端口，因此需要手动创建三个配置，分别为出方向 7001端口，入方向7001端口，入方向920端口，添加完成后重启服务器即可生效\")]),s._v(\" \"),r(\"p\",[s._v(\"入方向：\")]),s._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:\"https://files/nico.cc/images/screenshots/frp_port_920_7001_in.png\",alt:\"frp_port_920_7001_in\"}})]),s._v(\" \"),r(\"p\",[s._v(\"出方向：\")]),s._v(\" \"),r(\"p\",[r(\"img\",{attrs:{src:\"https://files/nico.cc/images/screenshots/frp_port_7001_out.png\",alt:\"frp_port_7001_out\"}})]),s._v(\" \"),r(\"ul\",[r(\"li\",[s._v(\"配置完成后再次启动frps和frpc即可\")])]),s._v(\" \"),r(\"h2\",{attrs:{id:\"_0x05-设置frps开机自启\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x05-设置frps开机自启\"}},[s._v(\"#\")]),s._v(\" 0x05 设置frps开机自启\")]),s._v(\" \"),r(\"ul\",[r(\"li\",[s._v(\"设置frps开机后台自启动：\")])]),s._v(\" \"),r(\"div\",{staticClass:\"language- line-numbers-mode\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[s._v(\"    cd /etc/init.d\\n    touch frps\\n    chmod +x frps\\n    vim frps\\n\")])]),s._v(\" \"),r(\"div\",{staticClass:\"line-numbers-wrapper\"},[r(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),r(\"br\")])]),r(\"ul\",[r(\"li\",[s._v(\"其中frps的内容为\")])]),s._v(\" \"),r(\"div\",{staticClass:\"language- line-numbers-mode\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[s._v(\"    #!/bin/sh\\n    \\n    ### BEGIN INIT INFO\\n    # Provides: frps\\n    # Required-Start: $network $remote_fs $local_fs\\n    # Required-Stop: $network $remote_fs $local_fs\\n    # Default-Start: 2 3 4 5\\n    # Default-Stop: 0 1 6\\n    # Short-Description: frps\\n    # Description: frp\\n    ### END INIT INFO\\n    \\n    nohup /opt/frps/frps -c /opt/frps/frps.ini >/dev/null 2>&1 &\\n    \\n    exit 0\\n\")])]),s._v(\" \"),r(\"div\",{staticClass:\"line-numbers-wrapper\"},[r(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),r(\"br\")])]),r(\"ul\",[r(\"li\",[r(\"p\",[s._v(\"设置为开机自启(Centos 7)\")]),s._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",[r(\"code\",[s._v(\"  systemctl enable frps\\n\")])])])])]),s._v(\" \"),r(\"h2\",{attrs:{id:\"_0x06-设置frpc开机自启\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x06-设置frpc开机自启\"}},[s._v(\"#\")]),s._v(\" 0x06 设置frpc开机自启\")]),s._v(\" \"),r(\"ul\",[r(\"li\",[s._v(\"设置frpc开机后台自启动：\")])]),s._v(\" \"),r(\"div\",{staticClass:\"language- line-numbers-mode\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[s._v(\"    cd /etc/init.d\\n    touch frpc\\n    chmod +x frpc\\n    vim frpc\\n\")])]),s._v(\" \"),r(\"div\",{staticClass:\"line-numbers-wrapper\"},[r(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),r(\"br\")])]),r(\"ul\",[r(\"li\",[s._v(\"其中frpc的内容为\")])]),s._v(\" \"),r(\"div\",{staticClass:\"language- line-numbers-mode\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[r(\"code\",[s._v(\"    #!/bin/sh\\n    \\n    ### BEGIN INIT INFO\\n    # Provides: frpc\\n    # Required-Start: $network $remote_fs $local_fs\\n    # Required-Stop: $network $remote_fs $local_fs\\n    # Default-Start: 2 3 4 5\\n    # Default-Stop: 0 1 6\\n    # Short-Description: frpc\\n    # Description: frp\\n    ### END INIT INFO\\n    \\n    nohup /opt/frpc/frpc -c /opt/frpc/frpc.ini >/dev/null 2>&1 & \\n    \\n    exit 0\\n\")])]),s._v(\" \"),r(\"div\",{staticClass:\"line-numbers-wrapper\"},[r(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),r(\"br\"),r(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),r(\"br\")])]),r(\"ul\",[r(\"li\",[r(\"p\",[s._v(\"设置为开机自启(Debian)\")]),s._v(\" \"),r(\"div\",{staticClass:\"language- extra-class\"},[r(\"pre\",[r(\"code\",[s._v(\" update-rc.d frpc defaults\\n\")])])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}